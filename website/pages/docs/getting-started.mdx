# Comenzando con Fox Framework

Esta guía te ayudará a instalar Fox Framework y crear tu primera aplicación.

## Requisitos Previos

Antes de comenzar, asegúrate de tener instalado:

- Node.js 14.x o superior
- npm 6.x o superior (o yarn)
- TypeScript 4.5.x o superior (recomendado)

## Instalación

Existen dos formas de empezar según tu caso:

> ⚠️ Si obtienes un error `E404` al intentar `npx tsfox new`, consulta la sección de Troubleshooting en la [FAQ sobre CLI](/docs/faq#error-404-al-ejecutar-npx-tsfox) para la explicación y solución.

### 1. Crear un nuevo proyecto (recomendado)

```bash
# (Opcional) Instalar global para usar 'tsfox' sin npx
npm install -g @foxframework/core

# Crear proyecto (no requiere instalación global)
npx -p @foxframework/core tsfox new mi-proyecto
cd mi-proyecto
npm install
npm run dev
```

### 2. Integrar en un proyecto existente

```bash
# Instalar paquete core (como dependencia de app existente)
npm install @foxframework/core

# Asegura TypeScript y tipos base
npm install -D typescript @types/node

# (Opcional) Inicializa estructura mínima
mkdir -p src/{controllers,routes,services,server,views}
```

## Creando tu Primera Aplicación

Después de instalar, puedes crear una aplicación básica así:

### 1. Estructura de Carpetas

Para un proyecto típico, recomendamos esta estructura:

```
mi-proyecto/
├── src/
│   ├── controllers/       # Controladores de la aplicación
│   ├── routes/            # Definiciones de rutas
│   ├── services/          # Lógica de negocio
│   ├── server/            # Configuración del servidor
│   └── views/             # Templates (si usas server-side rendering)
├── tests/                 # Tests unitarios e integración
├── package.json
└── tsconfig.json
```

### 2. Configurar el Servidor

Crea un archivo `src/server/index.ts`:

```typescript
import { FoxFactory } from '@foxframework/core';

const config: ServerConfig = {
  port: 3000,
  routes: './routes',
  middlewares: [
    // Middleware global
  ],
  templates: {
    engine: 'ejs',
    directory: './views'
  }
};

const app = FoxFactory.createInstance(config);
app.start();

console.log('🦊 Fox server running on port 3000');
```

### 3. Definir Rutas

Crea un archivo `src/routes/index.ts`:

```typescript
import { Router } from '@foxframework/core';

const router = Router.create();

// Ruta simple
router.get('/', (req, res) => {
  res.send('¡Bienvenido a Fox Framework!');
});

// Ruta con parámetros
router.get('/saludar/:nombre', (req, res) => {
  const { nombre } = req.params;
  res.send(`¡Hola, ${nombre}!`);
});

export default router;
```

### 4. Iniciar el Servidor

```bash
# Compilar TypeScript
npx tsc

# Iniciar el servidor
node dist/server/index.js
```

¡Felicidades! Tu primera aplicación Fox Framework está funcionando.

## Próximos Pasos

- [Crear un controlador](/docs/controllers)
- [Configurar middleware](/docs/middleware)
- [Trabajar con templates](/docs/templates)
- [Usar el sistema de caché](/docs/cache-system)
